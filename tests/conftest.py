import numpy as np
import pytest


@pytest.fixture
def example_spectrum():
    return {
        "index": 1,
        "id": "scan=2",
        "defaultArrayLength": 114,
        "scanList": {
            "count": 1,
            "scan": [{"instrumentConfigurationRef": "IC1", "scan start time": 175.0}],
            "no combination": "",
        },
        "precursorList": {
            "count": 1,
            "precursor": [
                {
                    "isolationWindow": {
                        "isolation window lower offset": 0.65,
                        "isolation window upper offset": 0.65,
                    },
                    "selectedIonList": {
                        "count": 1,
                        "selectedIon": [
                            {
                                "peak intensity": 3625569.57,
                                "charge state": 4,
                                "selected ion m/z": 386.453609,
                            }
                        ],
                    },
                    "activation": {
                        "collision energy": 9.11,
                        "collision-induced dissociation": "",
                    },
                }
            ],
        },
        "ms level": 2,
        "MSn spectrum": "",
        "profile spectrum": "",
        "base peak m/z": 386.448509,
        "base peak intensity": 2916.442,
        "total ion current": 15959.96,
        "spectrum title": 'BMEM_AspN_Fxn5.2.2.4 File:"", NativeID:"scan=2"',
        "count": 2,
        "m/z array": np.array(
            [
                70.063591,
                77.04698181,
                90.05465698,
                94.08490753,
                124.38582611,
                129.10014343,
                129.49797058,
                130.05128479,
                133.07009888,
                136.23374939,
                141.36547852,
                146.31190491,
                153.09989929,
                159.07699585,
                173.13557434,
                180.13531494,
                207.62393188,
                214.88555908,
                216.1317749,
                216.37930298,
                226.14781189,
                248.62528992,
                249.04071045,
                250.77589417,
                273.1373291,
                323.35223389,
                327.16497803,
                327.5050354,
                327.81112671,
                327.92483521,
                330.31588745,
                331.85653687,
                332.86251831,
                335.8119812,
                335.86459351,
                336.32876587,
                336.81164551,
                337.32556152,
                338.82040405,
                339.32635498,
                340.82437134,
                342.3458252,
                344.86541748,
                345.84890747,
                346.33294678,
                346.71429443,
                348.09207153,
                349.83898926,
                350.14215088,
                350.3163147,
                350.82672119,
                350.88378906,
                358.2244873,
                359.82992554,
                361.53414917,
                363.18920898,
                378.18228149,
                380.7121582,
                382.19137573,
                382.81484985,
                386.44851685,
                386.55026245,
                386.70355225,
                386.80523682,
                386.8732605,
                386.95309448,
                387.04833984,
                387.09396362,
                387.24832153,
                387.44717407,
                387.48257446,
                387.52542114,
                387.5765686,
                388.22161865,
                420.30163574,
                423.86795044,
                434.22058105,
                437.16790771,
                437.27270508,
                437.74041748,
                442.57727051,
                465.59091187,
                479.57589722,
                485.57632446,
                486.45648193,
                490.77301025,
                491.23764038,
                491.59457397,
                540.7489624,
                575.80474854,
                607.21911621,
                615.30578613,
                632.62249756,
                639.21838379,
                653.60388184,
                668.79266357,
                736.01971436,
                831.01409912,
                846.97503662,
                887.09875488,
                947.81713867,
                988.37615967,
                989.41455078,
                994.16815186,
                1011.8102417,
                1016.08197021,
                1027.55688477,
                1034.01123047,
                1050.18225098,
                1161.67700195,
                1163.6048584,
                1482.29821777,
                1526.74047852,
                1670.23962402,
            ]
        ),
        "intensity array": np.array(
            [
                178.25312805,
                39.16345978,
                125.0149231,
                33.17499924,
                26.01041603,
                232.0113678,
                52.10745621,
                98.56829834,
                42.32500076,
                44.52173996,
                25.03040504,
                51.0,
                102.37317657,
                48.76041794,
                26.53289413,
                151.43859863,
                25.32236862,
                48.6355629,
                136.9384613,
                30.0892849,
                95.55410767,
                51.01041794,
                44.25,
                69.16620636,
                127.88287354,
                100.01587677,
                99.09523773,
                267.375,
                30.26630402,
                31.09375,
                188.04252625,
                87.6337738,
                80.13031769,
                35.8168602,
                157.86560059,
                34.72222137,
                133.13847351,
                60.25,
                166.2228241,
                89.66773224,
                148.0,
                170.0138855,
                51.3379631,
                30.90725899,
                92.46323395,
                51.6071434,
                32.34913635,
                187.16117859,
                31.14999962,
                61.61249924,
                96.42237091,
                63.51612854,
                60.08390427,
                52.53125,
                263.41598511,
                64.0681839,
                189.48730469,
                34.46283722,
                127.38860321,
                41.78260803,
                2916.44189453,
                53.85969543,
                2076.9699707,
                31.09090996,
                95.13870239,
                1735.0612793,
                43.28197861,
                50.47074509,
                88.30223846,
                259.00253296,
                279.71203613,
                50.05356979,
                69.27435303,
                102.82645416,
                37.3125,
                26.88888931,
                33.0,
                30.5714283,
                77.83333588,
                256.38320923,
                59.875,
                257.73718262,
                263.75183105,
                85.08044434,
                38.08654022,
                68.40000153,
                53.48166656,
                114.14881134,
                58.00658035,
                40.9642868,
                40.03214264,
                45.57341385,
                35.90725708,
                60.95999908,
                78.03704071,
                28.375,
                54.00235748,
                34.00378799,
                34.11841965,
                54.78409195,
                45.37036896,
                93.00978088,
                32.77822495,
                49.14673996,
                52.1607132,
                30.00255013,
                30.02499962,
                121.11419678,
                98.37878418,
                32.0,
                68.68170166,
                58.02857208,
                61.61730957,
                52.61290359,
            ]
        ),
    }
